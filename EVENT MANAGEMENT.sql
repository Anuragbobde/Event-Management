--eventmanagement this is the database name--
use eventmanagement ;

--Event Table--
CREATE TABLE EVENT 
(
EVENTID CHAR(10) NOT NULL ,
EVENTNAME VARCHAR(20) NOT NULL,
STARTDATE DATE,
ENDDATE DATE,
LOCATION VARCHAR(20)
);

--Altering in the means adding the constraint in the table--
ALTER TABLE EVENT
ADD CONSTRAINT PK_EVENT PRIMARY KEY (EVENTID);

--If any thing wrong in the table the we can drop the table--
DROP TABLE EVENT ;

--Inserting the data in the table--
INSERT INTO EVENT (EVENTID, EVENTNAME, STARTDATE, ENDDATE, LOCATION)
VALUES('EV01', 'SINGING CONSERT','2024-07-02', '2024-07-12', 'PUNE'),
('EV02', 'DANCE PROGRAM', '2024-08-25', '2024-09-02', 'JAIPUR'),
('EV03', 'MARATHI DRAMA', '2024-09-04', '2024-09-06', 'MUMBAI'),
('EV04', 'OLD CAR EXHIBITION', '2024-09-15', '2024-09-20', 'BANGLORE'),
('EV05', 'MAGICAL SHOW', '2024-10-05', '2024-10-05', 'NAGPUR');

--Displaying all the data from the table through the below querry--
SELECT * FROM EVENT ;

--PARTICIPANT Table--
CREATE TABLE PARTICIPANT (
    PARTICIPANTID CHAR(20) NOT NULL,
    PARTICIPANTNAME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100),
    PHONE VARCHAR(15),
    EVENTID CHAR(10) NOT NULL,
    CONSTRAINT PK_PARTICIPANT PRIMARY KEY (PARTICIPANTID),
    CONSTRAINT FK_PARTICIPANT_EVENT FOREIGN KEY (EVENTID) REFERENCES EVENT(EVENTID)
);

--Dropping the table if anything is wrong, then we can create the table from the above code-- 
DROP TABLE PARTICIPANT ;

--inserting the data--
INSERT INTO PARTICIPANT (PARTICIPANTID, PARTICIPANTNAME, EMAIL, PHONE, EVENTID)
VALUES
('P001', 'John Doe', 'john@example.com', '9876543210', 'EV01'),
('P002', 'Jane Smith', 'jane@example.com', '8765432109', 'EV02'),
('P003', 'David Brown', 'david@example.com', '7654321098', 'EV01'),
('P004', 'Emily Clark', 'emily@example.com', '6543210987', 'EV03'),
('P005', 'MUNNALAL', 'david@example.com', '7654321098', 'EV04');

--Displaying all the data--
SELECT * FROM PARTICIPANT ;

--TICKET Table--
CREATE TABLE TICKET (
    TICKETID CHAR(10) NOT NULL,
    EVENTID CHAR(10) NOT NULL,
    PARTICIPANTID CHAR(20) NOT NULL,
    TICKETTYPE VARCHAR(20) NOT NULL,
    PRICE DECIMAL(10,2) NOT NULL,
    STATUS VARCHAR(20) NOT NULL,
    PURCHASEDDATE DATE NOT NULL,
    CONSTRAINT PK_TICKET PRIMARY KEY (TICKETID),
    CONSTRAINT FK_TICKET_EVENT FOREIGN KEY (EVENTID) REFERENCES EVENT(EVENTID),
    CONSTRAINT FK_TICKET_PARTICIPANT FOREIGN KEY (PARTICIPANTID) REFERENCES PARTICIPANT(PARTICIPANTID),
    CONSTRAINT CK_STATUS CHECK (STATUS IN ('BOOKED', 'PENDING', 'CANCELLED'))
);

--Dropping the table--
DROP TABLE TICKET ;

--Inserting the data--
INSERT INTO TICKET (TICKETID, EVENTID, PARTICIPANTID, TICKETTYPE, PRICE, STATUS, PURCHASEDDATE)
VALUES
('T001', 'EV01', 'P001', 'VIP', 1500.00, 'BOOKED', '2024-06-28'),
('T002', 'EV01', 'P003', 'Regular', 800.00, 'BOOKED', '2024-06-27'),
('T003', 'EV02', 'P002', 'VIP', 1200.00, 'BOOKED', '2020-08-20'),
('T004', 'EV03', 'P004', 'Regular', 1000.00, 'CANCELLED', '2020-09-03'),
('T005', 'EV05', 'P005', 'Regular', 1300.00, 'PENDING', '2024-09-20');

--Displaying the data from the table--
SELECT * FROM TICKET ;

--SPONSOR Table--
CREATE TABLE SPONSOR (
    SPONSORID CHAR(10) NOT NULL,
    SPONSORNAME VARCHAR(100) NOT NULL,
    SPONSORSHIPAMOUNT DECIMAL(12, 2) NOT NULL,
    EVENTID CHAR(10) NOT NULL,
    CONTACTINFO VARCHAR(100),
    CONSTRAINT PK_SPONSOR PRIMARY KEY (SPONSORID),
    CONSTRAINT FK_SPONSOR_EVENT FOREIGN KEY (EVENTID) REFERENCES EVENT(EVENTID)
);

--Inserting The data--

INSERT INTO SPONSOR (SPONSORID, SPONSORNAME, SPONSORSHIPAMOUNT, EVENTID, CONTACTINFO)
VALUES
('S001', 'MusicWorld', 50000.00, 'EV01', 'con123@musicworld.com'),
('S002', 'DANCEPRO', 75000.00, 'EV02', 'dance456@mail.com'),
('S003', 'InnovateX', 100000.00, 'EV03', 'contact@innovatex.com'),
('S004', 'BMW', 30000.00, 'EV04', 'bmw@mail.com'),
('S005', 'MAGICFund', 25000.00, 'EV05', 'support@magicfund.com');

--Displaying all the data from the table--
SELECT * FROM SPONSOR ;

--SCHEDULE Table--
CREATE TABLE SCHEDULE (
    SCHEDULEID CHAR(10) NOT NULL,
    EVENTID CHAR(10) NOT NULL,
    ACTIVITY VARCHAR(200) NOT NULL,
    STARTTIME TIMESTAMP NOT NULL,
    ENDTIME TIMESTAMP NOT NULL,
    LOCATION VARCHAR(100),
    CONSTRAINT PK_SCHEDULE PRIMARY KEY (SCHEDULEID),
    CONSTRAINT FK_SCHEDULE_EVENT FOREIGN KEY (EVENTID) REFERENCES EVENT(EVENTID)
);

--Inserting the data--

INSERT INTO SCHEDULE (SCHEDULEID, EVENTID, ACTIVITY, STARTTIME, ENDTIME, LOCATION)
VALUES
('SCH001', 'EV01', 'Music Performance', '2024-07-02 18:00:00', '2024-10-12 22:00:00', 'Deccan fc road'),
('SCH002', 'EV01', 'Dance', '2024-08-25 10:30:00', '2024-08-02 13:30:00', 'MG Road DC Hall'),
('SCH003', 'EV02', 'Opening Ceremony', '2020-11-01 18:00:00', '2020-11-01 20:00:00', 'Outdoor Stage'),
('SCH004', 'EV04', 'Exhibition', '2021-01-15 14:00:00', '2021-01-15 16:00:00', 'Big Ground'),
('SCH005', 'EV05', 'Magic', '2024-10-05 17:00:00', '2024-10-05 20:00:00', 'King Hall');

--Displaying all the data from the table--
SELECT * FROM SCHEDULE ;





















